# -*- coding: utf-8 -*-
"""
Created on Mon Oct 17 08:01:17 2016

@author: 2014301020016
"""

import pylab as pl
class oblique_throw:
    def __init__(self,x=0,y=0,initial_vx=500,initial_vy=500,
               time_step=0.1,gravitational_constant=6.67*10**-11,radius_of_earth=
               6371000,mass_of_earth=5.977*10**24,totle_time=100.5):
        self.vx=[initial_vx]
        self.vy=[initial_vy]
        self.dt=time_step
        self.G=gravitational_constant
        self.R=radius_of_earth
        self.M=mass_of_earth
        self.x=[x]
        self.y=[y]
        self.t=[0]
        self.time=totle_time
    def trajectory(self):
        _time = 0
        while(_time < self.time):
            self.x.append(self.x[-1]+\
                          self.vx[-1] * self.dt)
            self.vy.append(self.vy[-1] -\
                          self.dt * self.G * self.M / (self.R + self.y[-1])**2)
            self.y.append(self.y[-1] +\
                          self.vy[-1] * self.dt)
            self.t.append(_time)
            _time += self.dt    
    def show_results(self):
        font = {'family': 'serif',
                'color':  'darkred',
                'weight': 'normal',
                'size': 16,
        }
        pl.plot(self.x, self.y)
        pl.title('Trajectory of cannon shell', fontdict = font)
        pl.xlabel('x ($m$)')
        pl.ylabel('y ($m$)')
        pl.show()
        
a= oblique_throw()
a.trajectory()
a.show_results()